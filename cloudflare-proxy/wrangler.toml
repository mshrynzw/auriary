# Cloudflare Workers 設定（パターン2：Vercel オリジン用プロキシ）
# 既存の wrangler.jsonc（OpenNext 用）とは別の設定ファイルです

name = "auriary-proxy"
main = "src/worker.ts"
compatibility_date = "2025-01-20"
compatibility_flags = ["nodejs_compat"]

# 環境変数（Vercel オリジンの URL）
[vars]
ORIGIN_BASE_URL = "https://auriary.vercel.app"

# 監視設定
[observability]
enabled = true

# カスタムドメインのルーティング
# auriaries.org ドメインを Worker に紐付け
routes = [
  { pattern = "www.auriaries.org/*", zone_name = "auriaries.org" },
  { pattern = "auriaries.org/*", zone_name = "auriaries.org" }
]

